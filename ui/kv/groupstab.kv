#: import Factory kivy.factory.Factory

<GroupPopupGroupSessionEntry>:
  Label:
    id: session_name
    size_hint_x: 10

  Button:
    text: 'Remove'
    size_hint_x: 2

<GroupPopup>:
  title: 'Add Sessions to Group'
  auto_dismiss: False

  TabbedPanel:
    size_hint: 1, 1
    pos_hint: { 'center.x': .5, 'center.y': .5 }
    do_default_tab: False

    TabbedPanelItem:
      text: 'Group Sessions'

      BoxLayout:
        orientation: 'vertical'

        BoxLayout:
          size_hint_y: 1
          Spinner:
            id: session
            text: 'Classroom (Lecture)'
            size_hint_x: 10

          Button:
            text: 'Add'
            size_hint_x: 1
            on_press: root.add_lecture_session(session.text)

        RecycleView:
          id: sessions
          viewclass: 'GroupPopupGroupSessionEntry'
          size_hint_y: 10

          RecycleBoxLayout:
            default_size: None, dp(56)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'

        Button:
          text: 'Return'
          on_press: root.dismiss()

    TabbedPanelItem:
      text: 'Sections'


<GroupEntry>:
  Label:
    id: group_name
    size_hint_x: 7

  Button:
    text: 'Edit\nto Group'
    size_hint_x: 2
    on_press: Factory.GroupPopup(root.group).open()

  Button:
    text: 'Delete\nGroup'
    size_hint_x: 2
    on_press: root.delete_group()

<GroupsTab>:
  orientation: 'vertical'

  BoxLayout:
    TextInput:
      id: group_name
      hint_text: 'Group name'
      size_hint_x: 7
      multiline: False

    Button:
      text: 'Add\nGroup'
      size_hint_x: 2
      on_press: root.create_group(group_name.text)

  RecycleView:
    id: groups
    size_hint_y: 10
    viewclass: 'GroupEntry'

    RecycleBoxLayout:
      default_size: None, dp(56)
      default_size_hint: 1, None
      size_hint_y: None
      height: self.minimum_height
      orientation: 'vertical'

