#: import Factory kivy.factory.Factory

<GroupPopupSessionEntry>:
  Label:
    id: session_name
    size_hint_x: 10

  Button:
    text: 'Remove'
    size_hint_x: 2

<GroupPopup>:
  title: 'Add Sessions to Group'
  auto_dismiss: False

  BoxLayout:
    orientation: 'vertical'

    BoxLayout:
      size_hint_y: 1
      Spinner:
        id: session
        text: 'Classroom'
        size_hint_x: 9

      Spinner:
        id: session_type
        text: 'Session Type'
        size_hint_x: 4
        values: 'Lecture', 'Tutorial', 'Lab'

      Button:
        text: 'Add'
        size_hint_x: 1
        on_press: root.add_session(session.text, session_type.text)

    RecycleView:
      id: sessions
      viewclass: 'GroupPopupSessionEntry'
      size_hint_y: 10

      RecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

    Button:
      text: 'Save'
      on_press:
        if root.save(): root.dismiss()


<GroupEntry>:
  Label:
    id: group_name
    size_hint_x: 7

  Button:
    text: 'Add Sessions\nto Group'
    size_hint_x: 2
    on_press: Factory.GroupPopup(root.group).open()

  Button:
    text: 'Delete\nGroup'
    size_hint_x: 2
    on_press: root.delete_group()

<GroupsTab>:
  orientation: 'vertical'

  BoxLayout:
    TextInput:
      id: group_name
      hint_text: 'Group name'
      size_hint_x: 7
      multiline: False

    TextInput:
      id: group_section
      hint_text: 'Section Number'
      size_hint_x: 2

    TextInput:
      id: size
      hint_text: 'Size'
      size_hint_x: 2

    Button:
      text: 'Add\nGroup'
      size_hint_x: 2
      on_press: root.create_group(group_name.text, group_section.text, size.text)

  RecycleView:
    id: groups
    size_hint_y: 10
    viewclass: 'GroupEntry'

    RecycleBoxLayout:
      default_size: None, dp(56)
      default_size_hint: 1, None
      size_hint_y: None
      height: self.minimum_height
      orientation: 'vertical'

